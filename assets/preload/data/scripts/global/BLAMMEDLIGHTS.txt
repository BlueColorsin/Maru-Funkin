var blammedLights:FlxSprite;
var black:FlxSprite;
var phillyColor:Int = 0;

function create()
{
    black = new FlxSprite(-400, -100).makeGraphic(FlxG.width * 2, FlxG.height * 2, FlxColor.fromRGB(0,0,0));
    black.alpha = 0.6;
    black.visible = false;
    PlayState.add(black);
}

function createPost()
{
    blammedLights = new FlxSprite(-400, -100).makeGraphic(FlxG.width * 2, FlxG.height * 2, 0xFFffffff);
    blammedLights.visible = false;
    blammedLights.alpha = 0.8;
    PlayState.add(blammedLights);
    blammedLights.blend = getBlendMode('multiply');
}

function beatHit(curBeat)
{
    if (curBeat % 4 == 0)
    {
        var colors:Array<String> = ['0xFF31A2FD', '0xFF31FD8C', '0xFFFB33F5', '0xFFFD4531', '0xFFFBA633'];
        blammedLights.color = FlxColor.fromString(colors[phillyColor]);
        black.visible = true;
        blammedLights.visible = true;
        phillyColor += 1;
        if (phillyColor > 4) phillyColor = 0;
    }
}